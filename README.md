# Data Modeling with Postgres

## Introduction

A startup called Sparkify wants to analyze the data they've been collecting on songs and user activity on their new music streaming app. The analytics team is particularly interested in **understanding what songs users are listening to**.

Currently, they don't have an easy way to query their data, which resides in a directory of JSON logs on user activity on the app, as well as a directory with JSON metadata on the songs in their app. They'd like to **create a Postgres database with tables designed to optimize queries on song play analysis**.

In this project, I will:
- create a star schema :  define fact and dimension tables for anlytic focus.
- write an ETL pipeline : transfer data from files in two local directories into tables in Postgres.
- test the database and ETL pipeline.
- do analyses on the song plays.

## Project Structure

The project consists of seven files and two directories:
1. `data` directory contains two sub-directories:
	- `song_data` is a subset of real data from the [Million Song Dataset](https://labrosa.ee.columbia.edu/millionsong/). Each file is in JSON format and contains metadata about a song and the artist of that song.
	- `log_data` consists of log files in JSON format generated by [event simulator](https://github.com/Interana/eventsim) simulating activity logs from Sparkify music streaming app.
2. `create_table.py` drops and creates the database `sparkifydb` with its tables. This file is used to reset database before running ETL scripts.
3. `etl.py` reads and process files from `data` directory and loads them into tables.
4. `sql_queries.py` contains all sql queries and is imported to `create_table.py`, `etl.py`, and `etl.ipynb`
5. `etl.ipynb` reads and process a single file from `song_data` and `log_data` and loads the data into tables.
6. `test.ipynb` displays the first few rows of each table to check the database.
7. `dashboard.ipynb` generates statistics and analytic graphs on the database.
8. `images` directory contains all images generated from `dashboard.ipynb`
9. `README.md` this file is to give a summary of the project and an explaination of designing the schema and programming. It also provides analyses on song plays.